<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Love Proposal ❤️</title>
  <style>
    body {
      background: #ffe6f0;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }

    .hidden {
      display: none;
    }

    .heart {
      font-size: 50px;
      color: red;
      animation: pulse 1s infinite;
    }

    .kiss {
      font-size: 40px;
      animation: kissAnim 2s infinite alternate;
    }

    @keyframes pulse {
      0% { transform: scale(1);}
      50% { transform: scale(1.2);}
      100% { transform: scale(1);}
    }

    @keyframes kissAnim {
      0% { transform: translateX(-5px);}
      100% { transform: translateX(5px);}
    }

    .quiz-options {
      margin: 20px auto;
      text-align: left;
      display: inline-block;
      font-size: 18px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 20px;
      background: #ff66a3;
      border: none;
      color: white;
      border-radius: 10px;
      cursor: pointer;
    }

    input {
      padding: 10px;
      border-radius: 10px;
      font-size: 16px;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <!-- Background Music -->
  <audio id="bgMusic" loop>
    <source src="C:\Users\Mihir . L . Kokane\Downloads\WhatsApp Audio 2025-08-01 at 6.16.44 PM.mpeg" type="audio/mpeg">
  </audio>

  <canvas id="confettiCanvas" class="hidden"></canvas>

  <!-- Step 1: Name Input -->
  <div id="step1">
    <h3>Hello Mihir here 👋</h3>
    <h2>Enter your name to begin 💌</h2>
    <input type="text" id="nameInput" required>
    <br>
    <button onclick="goToStep2()">Start</button>
  </div>

  <!-- Step 2: Shayari -->
  <div id="step2" class="hidden">
    <h1 id="greeting">Hey 💖</h1>
    <p class="heart">❤️💓💞</p>
    <h2>Shayari for You 💌</h2>
    <p>
        दिल करता है चुरा लूँ तुझे तकदीर से, <br>
        क्योंकि दिल नहीं भरता तेरी तस्वीर से !! 
    </p>
    <button onclick="goToStep3()">Done ✅</button>
  </div>

  <!-- Step 3: Feelings -->
  <div id="step3" class="hidden">
    <h2>My Feelings for You 💖</h2>
    <p>
      You’re the reason my heart beats fast, <br>
      With every smile, you complete my past. <br>
      You're not just my crush, you're my forever dream. <br>
      I promise to hold you close, always and forever. 💑✨
    </p>
    <button onclick="goToStep4()">Done ✅</button>
  </div>

  <!-- Step 4: Final Proposal + Quiz -->
  <div id="step4" class="hidden">
    <div class="kiss">😘 😘 😘</div>
    <p class="heart">💓💓💓</p>
    <h2>So... Shall we start our forever together? 💍</h2>

    <h3>Will you accept my proposal? 💘</h3>
    <div class="quiz-options">
      <p>1 - Yess 😄</p>
      <p>2 - Obviously 😊</p>
      <p>3 - Accepted 💗</p>
      <p>4 - All of the above 💕</p>
    </div>

    <h3>Your Answer ✍️</h3>
    <input type="text" id="quizAnswerInput" placeholder="Write your answer here 💌">
    <br>
    <button id="submitBtn" onclick="submitAnswer()">Submit Answer 💖</button>

    <!-- Final message shown after submission -->
    <div id="finalMessage" class="hidden">
      <h2 style="margin-top: 30px;">Awwww! 😍</h2>
      <p style="font-size: 20px;">
        Your answer made my heart smile ❤️ <br>
        I promise to cherish you forever 💞
      </p>
      <div class="heart" style="font-size: 80px;">💘</div>
    </div>
  </div>

  <script>
    const music = document.getElementById("bgMusic");

    function goToStep2() {
      const name = document.getElementById('nameInput').value.trim();
      if (name === "") {
        alert("Please enter your name first 🥺");
        return;
      }

      music.play().catch(() => {
        console.log("Autoplay blocked, user must interact.");
      });

      document.getElementById('greeting').innerText = "Hey " + name + " 💖";
      document.getElementById('step1').classList.add('hidden');
      document.getElementById('step2').classList.remove('hidden');
    }

    function goToStep3() {
      document.getElementById('step2').classList.add('hidden');
      document.getElementById('step3').classList.remove('hidden');
    }

    function goToStep4() {
      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step4').classList.remove('hidden');
    }

    const canvas = document.getElementById("confettiCanvas");
    const ctx = canvas.getContext("2d");
    let W = window.innerWidth;
    let H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;
    let particles = [];

    function startConfetti() {
      canvas.classList.remove("hidden");
      for (let i = 0; i < 150; i++) {
        particles.push({
          x: Math.random() * W,
          y: Math.random() * H - H,
          r: Math.random() * 10 + 5,
          d: Math.random() * 10,
          color: `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`,
          tilt: Math.floor(Math.random() * 10) - 10,
        });
      }
      draw();
    }

    function draw() {
      ctx.clearRect(0, 0, W, H);
      for (let i = 0; i < particles.length; i++) {
        const p = particles[i];
        ctx.beginPath();
        ctx.fillStyle = p.color;
        ctx.moveTo(p.x + p.tilt, p.y);
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2, true);
        ctx.fill();
      }
      update();
      requestAnimationFrame(draw);
    }

    function update() {
      for (let i = 0; i < particles.length; i++) {
        const p = particles[i];
        p.y += Math.cos(p.d) + 1 + p.r / 2;
        p.x += Math.sin(p.d);
        if (p.y > H) {
          p.y = -10;
          p.x = Math.random() * W;
        }
      }
    }

    function submitAnswer() {
      const answer = document.getElementById("quizAnswerInput").value.trim();
      if (answer === "") {
        alert("Please type your answer before submitting 🥺");
        return;
      }

      // Save the answer locally
      localStorage.setItem("herAnswer", answer);

      // Start confetti
      startConfetti();

      // Hide input and submit button
      document.getElementById("quizAnswerInput").style.display = "none";
      document.getElementById("submitBtn").style.display = "none";

      // Show final sweet message
      document.getElementById("finalMessage").classList.remove("hidden");

      // Secret notification just for Mihir
      setTimeout(() => {
        alert("⚠️ Mihir, she answered: \"" + answer + "\" 💖");
      }, 1000);
    }

    // Alert her previous answer if page reloaded (for Mihir only)
    window.addEventListener("load", () => {
      const savedAnswer = localStorage.getItem("herAnswer");
      if (savedAnswer) {
        alert("📬 Saved answer from her: \"" + savedAnswer + "\" 💌");
      }
    });

    window.addEventListener('resize', () => {
      W = window.innerWidth;
      H = window.innerHeight;
      canvas.width = W;
      canvas.height = H;
    });
  </script>

</body>
</html>